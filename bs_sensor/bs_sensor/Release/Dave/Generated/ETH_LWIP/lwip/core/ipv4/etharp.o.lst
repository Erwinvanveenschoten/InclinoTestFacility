   1              	 .syntax unified
   2              	 .cpu cortex-m4
   3              	 .eabi_attribute 27,3
   4              	 .fpu fpv4-sp-d16
   5              	 .eabi_attribute 20,1
   6              	 .eabi_attribute 21,1
   7              	 .eabi_attribute 23,3
   8              	 .eabi_attribute 24,1
   9              	 .eabi_attribute 25,1
  10              	 .eabi_attribute 26,1
  11              	 .eabi_attribute 30,4
  12              	 .eabi_attribute 34,1
  13              	 .eabi_attribute 18,4
  14              	 .thumb
  15              	 .file "etharp.c"
  16              	 .section .text.etharp_free_entry,"ax",%progbits
  17              	 .align 1
  18              	 .thumb
  19              	 .thumb_func
  21              	etharp_free_entry:
  22              	 
  23              	 
  24 0000 70B5     	 push {r4,r5,r6,lr}
  25 0002 1826     	 movs r6,#24
  26 0004 074D     	 ldr r5,.L7
  27 0006 4643     	 muls r6,r0,r6
  28 0008 0446     	 mov r4,r0
  29 000a A859     	 ldr r0,[r5,r6]
  30 000c 18B1     	 cbz r0,.L2
  31 000e FFF7FEFF 	 bl pbuf_free
  32 0012 0023     	 movs r3,#0
  33 0014 AB51     	 str r3,[r5,r6]
  34              	.L2:
  35 0016 1823     	 movs r3,#24
  36 0018 03FB0454 	 mla r4,r3,r4,r5
  37 001c 0023     	 movs r3,#0
  38 001e 2375     	 strb r3,[r4,#20]
  39 0020 70BD     	 pop {r4,r5,r6,pc}
  40              	.L8:
  41 0022 00BF     	 .align 2
  42              	.L7:
  43 0024 00000000 	 .word .LANCHOR0
  45              	 .section .text.etharp_raw,"ax",%progbits
  46              	 .align 1
  47              	 .thumb
  48              	 .thumb_func
  50              	etharp_raw:
  51              	 
  52              	 
  53 0000 2DE9F347 	 push {r0,r1,r4,r5,r6,r7,r8,r9,r10,lr}
  54 0004 8246     	 mov r10,r0
  55 0006 8946     	 mov r9,r1
  56 0008 9046     	 mov r8,r2
  57 000a 0220     	 movs r0,#2
  58 000c 1C21     	 movs r1,#28
  59 000e 0022     	 movs r2,#0
  60 0010 1F46     	 mov r7,r3
  61 0012 0B9D     	 ldr r5,[sp,#44]
  62 0014 FFF7FEFF 	 bl pbuf_alloc
  63 0018 0646     	 mov r6,r0
  64 001a 70B3     	 cbz r0,.L11
  65 001c 4468     	 ldr r4,[r0,#4]
  66 001e BDF83400 	 ldrh r0,[sp,#52]
  67 0022 FFF7FEFF 	 bl lwip_htons
  68 0026 E080     	 strh r0,[r4,#6]
  69 0028 3B68     	 ldr r3,[r7]
  70 002a A360     	 str r3,[r4,#8]
  71 002c BB88     	 ldrh r3,[r7,#4]
  72 002e A381     	 strh r3,[r4,#12]
  73 0030 2B68     	 ldr r3,[r5]
  74 0032 C4F81230 	 str r3,[r4,#18]
  75 0036 AB88     	 ldrh r3,[r5,#4]
  76 0038 E382     	 strh r3,[r4,#22]
  77 003a 0A9B     	 ldr r3,[sp,#40]
  78 003c 1B68     	 ldr r3,[r3]
  79 003e C4F80E30 	 str r3,[r4,#14]
  80 0042 0C9B     	 ldr r3,[sp,#48]
  81 0044 1B68     	 ldr r3,[r3]
  82 0046 A361     	 str r3,[r4,#24]
  83 0048 0123     	 movs r3,#1
  84 004a 6370     	 strb r3,[r4,#1]
  85 004c 0823     	 movs r3,#8
  86 004e A370     	 strb r3,[r4,#2]
  87 0050 0623     	 movs r3,#6
  88 0052 2371     	 strb r3,[r4,#4]
  89 0054 0423     	 movs r3,#4
  90 0056 0025     	 movs r5,#0
  91 0058 6371     	 strb r3,[r4,#5]
  92 005a 40F60603 	 movw r3,#2054
  93 005e 2570     	 strb r5,[r4]
  94 0060 E570     	 strb r5,[r4,#3]
  95 0062 3146     	 mov r1,r6
  96 0064 0093     	 str r3,[sp]
  97 0066 4A46     	 mov r2,r9
  98 0068 4346     	 mov r3,r8
  99 006a 5046     	 mov r0,r10
 100 006c FFF7FEFF 	 bl ethernet_output
 101 0070 3046     	 mov r0,r6
 102 0072 FFF7FEFF 	 bl pbuf_free
 103 0076 2846     	 mov r0,r5
 104 0078 00E0     	 b .L10
 105              	.L11:
 106 007a FF20     	 movs r0,#255
 107              	.L10:
 108 007c 40B2     	 sxtb r0,r0
 109 007e 02B0     	 add sp,sp,#8
 110              	 
 111 0080 BDE8F087 	 pop {r4,r5,r6,r7,r8,r9,r10,pc}
 113              	 .section .text.etharp_find_entry.isra.0,"ax",%progbits
 114              	 .align 1
 115              	 .thumb
 116              	 .thumb_func
 118              	etharp_find_entry.isra.0:
 119              	 
 120              	 
 121 0000 2DE9F74F 	 push {r0,r1,r2,r4,r5,r6,r7,r8,r9,r10,fp,lr}
 122 0004 0A23     	 movs r3,#10
 123 0006 0022     	 movs r2,#0
 124 0008 334C     	 ldr r4,.L45
 125 000a 0191     	 str r1,[sp,#4]
 126 000c 0746     	 mov r7,r0
 127 000e 9E46     	 mov lr,r3
 128 0010 1846     	 mov r0,r3
 129 0012 9046     	 mov r8,r2
 130 0014 9446     	 mov ip,r2
 131 0016 9246     	 mov r10,r2
 132 0018 1E46     	 mov r6,r3
 133              	.L19:
 134 001a 0A2E     	 cmp r6,#10
 135 001c D5B2     	 uxtb r5,r2
 136 001e 94F80090 	 ldrb r9,[r4]
 137 0022 04D1     	 bne .L13
 138 0024 B9F1000F 	 cmp r9,#0
 139 0028 04D1     	 bne .L14
 140 002a 2E46     	 mov r6,r5
 141 002c 17E0     	 b .L15
 142              	.L13:
 143 002e B9F1000F 	 cmp r9,#0
 144 0032 14D0     	 beq .L15
 145              	.L14:
 146 0034 3FB1     	 cbz r7,.L16
 147 0036 3968     	 ldr r1,[r7]
 148 0038 8B46     	 mov fp,r1
 149 003a 54F8101C 	 ldr r1,[r4,#-16]
 150 003e 8B45     	 cmp fp,r1
 151 0040 01D1     	 bne .L16
 152 0042 EEB2     	 uxtb r6,r5
 153 0044 44E0     	 b .L17
 154              	.L16:
 155 0046 B9F1010F 	 cmp r9,#1
 156 004a 34F8029C 	 ldrh r9,[r4,#-2]
 157 004e 3AD1     	 bne .L44
 158 0050 54F8141C 	 ldr r1,[r4,#-20]
 159 0054 91B3     	 cbz r1,.L18
 160 0056 D145     	 cmp r9,r10
 161 0058 01D3     	 bcc .L15
 162 005a 2B46     	 mov r3,r5
 163 005c CA46     	 mov r10,r9
 164              	.L15:
 165 005e 0132     	 adds r2,r2,#1
 166 0060 0A2A     	 cmp r2,#10
 167 0062 04F11804 	 add r4,r4,#24
 168 0066 D8D1     	 bne .L19
 169 0068 019A     	 ldr r2,[sp,#4]
 170 006a 9107     	 lsls r1,r2,#30
 171 006c 24D4     	 bmi .L31
 172 006e 0A2E     	 cmp r6,#10
 173 0070 02D1     	 bne .L20
 174 0072 D207     	 lsls r2,r2,#31
 175 0074 02D4     	 bmi .L42
 176 0076 1FE0     	 b .L31
 177              	.L20:
 178 0078 F6B2     	 uxtb r6,r6
 179 007a 0FE0     	 b .L22
 180              	.L42:
 181 007c BEF10A0F 	 cmp lr,#10
 182 0080 02D0     	 beq .L23
 183 0082 5FFA8EF6 	 uxtb r6,lr
 184 0086 06E0     	 b .L24
 185              	.L23:
 186 0088 0A28     	 cmp r0,#10
 187 008a 01D0     	 beq .L25
 188 008c C6B2     	 uxtb r6,r0
 189 008e 02E0     	 b .L24
 190              	.L25:
 191 0090 0A2B     	 cmp r3,#10
 192 0092 11D0     	 beq .L31
 193 0094 DEB2     	 uxtb r6,r3
 194              	.L24:
 195 0096 3046     	 mov r0,r6
 196 0098 FFF7FEFF 	 bl etharp_free_entry
 197              	.L22:
 198 009c 0F49     	 ldr r1,.L45+4
 199 009e 27B1     	 cbz r7,.L26
 200 00a0 1822     	 movs r2,#24
 201 00a2 02FB0612 	 mla r2,r2,r6,r1
 202 00a6 3B68     	 ldr r3,[r7]
 203 00a8 5360     	 str r3,[r2,#4]
 204              	.L26:
 205 00aa 1823     	 movs r3,#24
 206 00ac 03FB0613 	 mla r3,r3,r6,r1
 207 00b0 0022     	 movs r2,#0
 208 00b2 5A82     	 strh r2,[r3,#18]
 209 00b4 F6B2     	 uxtb r6,r6
 210 00b6 0BE0     	 b .L17
 211              	.L31:
 212 00b8 FF26     	 movs r6,#255
 213 00ba 09E0     	 b .L17
 214              	.L18:
 215 00bc E145     	 cmp r9,ip
 216 00be CED3     	 bcc .L15
 217 00c0 2846     	 mov r0,r5
 218 00c2 CC46     	 mov ip,r9
 219 00c4 CBE7     	 b .L15
 220              	.L44:
 221 00c6 C145     	 cmp r9,r8
 222 00c8 24BF     	 itt cs
 223 00ca AE46     	 movcs lr,r5
 224 00cc C846     	 movcs r8,r9
 225 00ce C6E7     	 b .L15
 226              	.L17:
 227 00d0 70B2     	 sxtb r0,r6
 228 00d2 03B0     	 add sp,sp,#12
 229              	 
 230 00d4 BDE8F08F 	 pop {r4,r5,r6,r7,r8,r9,r10,fp,pc}
 231              	.L46:
 232              	 .align 2
 233              	.L45:
 234 00d8 14000000 	 .word .LANCHOR0+20
 235 00dc 00000000 	 .word .LANCHOR0
 237              	 .section .text.etharp_cleanup_netif,"ax",%progbits
 238              	 .align 1
 239              	 .global etharp_cleanup_netif
 240              	 .thumb
 241              	 .thumb_func
 243              	etharp_cleanup_netif:
 244              	 
 245              	 
 246 0000 70B5     	 push {r4,r5,r6,lr}
 247 0002 084D     	 ldr r5,.L54
 248 0004 0646     	 mov r6,r0
 249 0006 0024     	 movs r4,#0
 250              	.L49:
 251 0008 2B7D     	 ldrb r3,[r5,#20]
 252 000a 2BB1     	 cbz r3,.L48
 253 000c AB68     	 ldr r3,[r5,#8]
 254 000e B342     	 cmp r3,r6
 255 0010 02D1     	 bne .L48
 256 0012 2046     	 mov r0,r4
 257 0014 FFF7FEFF 	 bl etharp_free_entry
 258              	.L48:
 259 0018 0134     	 adds r4,r4,#1
 260 001a 0A2C     	 cmp r4,#10
 261 001c 05F11805 	 add r5,r5,#24
 262 0020 F2D1     	 bne .L49
 263 0022 70BD     	 pop {r4,r5,r6,pc}
 264              	.L55:
 265              	 .align 2
 266              	.L54:
 267 0024 00000000 	 .word .LANCHOR0
 269              	 .section .text.etharp_find_addr,"ax",%progbits
 270              	 .align 1
 271              	 .global etharp_find_addr
 272              	 .thumb
 273              	 .thumb_func
 275              	etharp_find_addr:
 276              	 
 277              	 
 278 0000 F8B5     	 push {r3,r4,r5,r6,r7,lr}
 279 0002 0846     	 mov r0,r1
 280 0004 0221     	 movs r1,#2
 281 0006 1746     	 mov r7,r2
 282 0008 1E46     	 mov r6,r3
 283 000a FFF7FEFF 	 bl etharp_find_entry.isra.0
 284 000e 0028     	 cmp r0,#0
 285 0010 0DDB     	 blt .L59
 286 0012 1824     	 movs r4,#24
 287 0014 074D     	 ldr r5,.L60
 288 0016 04FB00F1 	 mul r1,r4,r0
 289 001a 6C18     	 adds r4,r5,r1
 290 001c 237D     	 ldrb r3,[r4,#20]
 291 001e 012B     	 cmp r3,#1
 292 0020 05D9     	 bls .L59
 293 0022 2146     	 mov r1,r4
 294 0024 0C31     	 adds r1,r1,#12
 295 0026 0434     	 adds r4,r4,#4
 296 0028 3960     	 str r1,[r7]
 297 002a 3460     	 str r4,[r6]
 298 002c 00E0     	 b .L57
 299              	.L59:
 300 002e FF20     	 movs r0,#255
 301              	.L57:
 302 0030 40B2     	 sxtb r0,r0
 303 0032 F8BD     	 pop {r3,r4,r5,r6,r7,pc}
 304              	.L61:
 305              	 .align 2
 306              	.L60:
 307 0034 00000000 	 .word .LANCHOR0
 309              	 .section .text.etharp_get_entry,"ax",%progbits
 310              	 .align 1
 311              	 .global etharp_get_entry
 312              	 .thumb
 313              	 .thumb_func
 315              	etharp_get_entry:
 316              	 
 317              	 
 318 0000 0928     	 cmp r0,#9
 319 0002 70B5     	 push {r4,r5,r6,lr}
 320 0004 0FD8     	 bhi .L65
 321 0006 1824     	 movs r4,#24
 322 0008 084D     	 ldr r5,.L66
 323 000a 6043     	 muls r0,r4,r0
 324 000c 2C18     	 adds r4,r5,r0
 325 000e 267D     	 ldrb r6,[r4,#20]
 326 0010 012E     	 cmp r6,#1
 327 0012 08D9     	 bls .L65
 328 0014 261D     	 adds r6,r4,#4
 329 0016 0E60     	 str r6,[r1]
 330 0018 2046     	 mov r0,r4
 331 001a A168     	 ldr r1,[r4,#8]
 332 001c 1160     	 str r1,[r2]
 333 001e 0C30     	 adds r0,r0,#12
 334 0020 1860     	 str r0,[r3]
 335 0022 0120     	 movs r0,#1
 336 0024 70BD     	 pop {r4,r5,r6,pc}
 337              	.L65:
 338 0026 0020     	 movs r0,#0
 339 0028 70BD     	 pop {r4,r5,r6,pc}
 340              	.L67:
 341 002a 00BF     	 .align 2
 342              	.L66:
 343 002c 00000000 	 .word .LANCHOR0
 345              	 .section .text.etharp_input,"ax",%progbits
 346              	 .align 1
 347              	 .global etharp_input
 348              	 .thumb
 349              	 .thumb_func
 351              	etharp_input:
 352              	 
 353              	 
 354 0000 2DE9F047 	 push {r4,r5,r6,r7,r8,r9,r10,lr}
 355 0004 8046     	 mov r8,r0
 356 0006 86B0     	 sub sp,sp,#24
 357 0008 0C46     	 mov r4,r1
 358 000a 0029     	 cmp r1,#0
 359 000c 71D0     	 beq .L68
 360 000e 4568     	 ldr r5,[r0,#4]
 361 0010 2B88     	 ldrh r3,[r5]
 362 0012 B3F5807F 	 cmp r3,#256
 363 0016 69D1     	 bne .L77
 364 0018 2B79     	 ldrb r3,[r5,#4]
 365 001a 062B     	 cmp r3,#6
 366 001c 66D1     	 bne .L77
 367 001e 6B79     	 ldrb r3,[r5,#5]
 368 0020 042B     	 cmp r3,#4
 369 0022 63D1     	 bne .L77
 370 0024 6B88     	 ldrh r3,[r5,#2]
 371 0026 082B     	 cmp r3,#8
 372 0028 60D1     	 bne .L77
 373 002a D5F80E00 	 ldr r0,[r5,#14]
 374 002e 4E68     	 ldr r6,[r1,#4]
 375 0030 0490     	 str r0,[sp,#16]
 376 0032 A869     	 ldr r0,[r5,#24]
 377 0034 0590     	 str r0,[sp,#20]
 378 0036 1EB1     	 cbz r6,.L72
 379 0038 059B     	 ldr r3,[sp,#20]
 380 003a 9B1B     	 subs r3,r3,r6
 381 003c 5E42     	 rsbs r6,r3,#0
 382 003e 5E41     	 adcs r6,r6,r3
 383              	.L72:
 384 0040 0498     	 ldr r0,[sp,#16]
 385 0042 002E     	 cmp r6,#0
 386 0044 05F10807 	 add r7,r5,#8
 387 0048 14BF     	 ite ne
 388 004a 4FF00109 	 movne r9,#1
 389 004e 4FF00209 	 moveq r9,#2
 390 0052 80B3     	 cbz r0,.L75
 391 0054 2146     	 mov r1,r4
 392 0056 FFF7FEFF 	 bl ip4_addr_isbroadcast_u32
 393 005a 8246     	 mov r10,r0
 394 005c 58BB     	 cbnz r0,.L75
 395 005e 049B     	 ldr r3,[sp,#16]
 396 0060 03F0F003 	 and r3,r3,#240
 397 0064 E02B     	 cmp r3,#224
 398 0066 26D0     	 beq .L75
 399 0068 04A8     	 add r0,sp,#16
 400 006a 4946     	 mov r1,r9
 401 006c FFF7FEFF 	 bl etharp_find_entry.isra.0
 402 0070 0028     	 cmp r0,#0
 403 0072 20DB     	 blt .L75
 404 0074 2049     	 ldr r1,.L95
 405 0076 1823     	 movs r3,#24
 406 0078 4343     	 muls r3,r0,r3
 407 007a CA18     	 adds r2,r1,r3
 408 007c 0220     	 movs r0,#2
 409 007e 1075     	 strb r0,[r2,#20]
 410 0080 9460     	 str r4,[r2,#8]
 411 0082 3868     	 ldr r0,[r7]
 412 0084 D060     	 str r0,[r2,#12]
 413 0086 51F80390 	 ldr r9,[r1,r3]
 414 008a B888     	 ldrh r0,[r7,#4]
 415 008c 1082     	 strh r0,[r2,#16]
 416 008e A2F812A0 	 strh r10,[r2,#18]
 417 0092 B9F1000F 	 cmp r9,#0
 418 0096 0ED0     	 beq .L75
 419 0098 41F803A0 	 str r10,[r1,r3]
 420 009c 4FF40063 	 mov r3,#2048
 421 00a0 0093     	 str r3,[sp]
 422 00a2 2046     	 mov r0,r4
 423 00a4 4946     	 mov r1,r9
 424 00a6 04F12D02 	 add r2,r4,#45
 425 00aa 3B46     	 mov r3,r7
 426 00ac FFF7FEFF 	 bl ethernet_output
 427 00b0 4846     	 mov r0,r9
 428 00b2 FFF7FEFF 	 bl pbuf_free
 429              	.L75:
 430 00b6 EB88     	 ldrh r3,[r5,#6]
 431 00b8 B3F5807F 	 cmp r3,#256
 432 00bc 07D0     	 beq .L78
 433 00be B3F5007F 	 cmp r3,#512
 434 00c2 13D1     	 bne .L77
 435 00c4 2046     	 mov r0,r4
 436 00c6 04A9     	 add r1,sp,#16
 437 00c8 FFF7FEFF 	 bl dhcp_arp_reply
 438 00cc 0EE0     	 b .L77
 439              	.L78:
 440 00ce 6EB1     	 cbz r6,.L77
 441 00d0 231D     	 adds r3,r4,#4
 442 00d2 8DE88800 	 stmia sp,{r3,r7}
 443 00d6 04AB     	 add r3,sp,#16
 444 00d8 04F12D01 	 add r1,r4,#45
 445 00dc 0293     	 str r3,[sp,#8]
 446 00de 0223     	 movs r3,#2
 447 00e0 0393     	 str r3,[sp,#12]
 448 00e2 2046     	 mov r0,r4
 449 00e4 3A46     	 mov r2,r7
 450 00e6 0B46     	 mov r3,r1
 451 00e8 FFF7FEFF 	 bl etharp_raw
 452              	.L77:
 453 00ec 4046     	 mov r0,r8
 454 00ee FFF7FEFF 	 bl pbuf_free
 455              	.L68:
 456 00f2 06B0     	 add sp,sp,#24
 457              	 
 458 00f4 BDE8F087 	 pop {r4,r5,r6,r7,r8,r9,r10,pc}
 459              	.L96:
 460              	 .align 2
 461              	.L95:
 462 00f8 00000000 	 .word .LANCHOR0
 464              	 .section .text.etharp_request,"ax",%progbits
 465              	 .align 1
 466              	 .global etharp_request
 467              	 .thumb
 468              	 .thumb_func
 470              	etharp_request:
 471              	 
 472              	 
 473 0000 1FB5     	 push {r0,r1,r2,r3,r4,lr}
 474 0002 0346     	 mov r3,r0
 475 0004 0433     	 adds r3,r3,#4
 476 0006 00F12D02 	 add r2,r0,#45
 477 000a 0093     	 str r3,[sp]
 478 000c 064B     	 ldr r3,.L98
 479 000e 0193     	 str r3,[sp,#4]
 480 0010 0291     	 str r1,[sp,#8]
 481 0012 0123     	 movs r3,#1
 482 0014 1146     	 mov r1,r2
 483 0016 0393     	 str r3,[sp,#12]
 484 0018 044A     	 ldr r2,.L98+4
 485 001a 0B46     	 mov r3,r1
 486 001c FFF7FEFF 	 bl etharp_raw
 487 0020 05B0     	 add sp,sp,#20
 488              	 
 489 0022 5DF804FB 	 ldr pc,[sp],#4
 490              	.L99:
 491 0026 00BF     	 .align 2
 492              	.L98:
 493 0028 00000000 	 .word ethzero
 494 002c 00000000 	 .word ethbroadcast
 496              	 .section .text.etharp_tmr,"ax",%progbits
 497              	 .align 1
 498              	 .global etharp_tmr
 499              	 .thumb
 500              	 .thumb_func
 502              	etharp_tmr:
 503              	 
 504              	 
 505 0000 38B5     	 push {r3,r4,r5,lr}
 506 0002 134C     	 ldr r4,.L113
 507 0004 0025     	 movs r5,#0
 508              	.L107:
 509 0006 227C     	 ldrb r2,[r4,#16]
 510 0008 DAB1     	 cbz r2,.L102
 511 000a E389     	 ldrh r3,[r4,#14]
 512 000c 0133     	 adds r3,r3,#1
 513 000e 9BB2     	 uxth r3,r3
 514 0010 B3F5967F 	 cmp r3,#300
 515 0014 E381     	 strh r3,[r4,#14]
 516 0016 03D2     	 bcs .L103
 517 0018 012A     	 cmp r2,#1
 518 001a 05D1     	 bne .L104
 519 001c 042B     	 cmp r3,#4
 520 001e 0CD9     	 bls .L105
 521              	.L103:
 522 0020 2846     	 mov r0,r5
 523 0022 FFF7FEFF 	 bl etharp_free_entry
 524 0026 0CE0     	 b .L102
 525              	.L104:
 526 0028 032A     	 cmp r2,#3
 527 002a 01D1     	 bne .L106
 528 002c 0423     	 movs r3,#4
 529 002e 02E0     	 b .L112
 530              	.L106:
 531 0030 042A     	 cmp r2,#4
 532 0032 06D1     	 bne .L102
 533 0034 0223     	 movs r3,#2
 534              	.L112:
 535 0036 2374     	 strb r3,[r4,#16]
 536 0038 03E0     	 b .L102
 537              	.L105:
 538 003a 6068     	 ldr r0,[r4,#4]
 539 003c 2146     	 mov r1,r4
 540 003e FFF7FEFF 	 bl etharp_request
 541              	.L102:
 542 0042 0135     	 adds r5,r5,#1
 543 0044 0A2D     	 cmp r5,#10
 544 0046 04F11804 	 add r4,r4,#24
 545 004a DCD1     	 bne .L107
 546 004c 38BD     	 pop {r3,r4,r5,pc}
 547              	.L114:
 548 004e 00BF     	 .align 2
 549              	.L113:
 550 0050 04000000 	 .word .LANCHOR0+4
 552              	 .section .text.etharp_output_to_arp_index,"ax",%progbits
 553              	 .align 1
 554              	 .thumb
 555              	 .thumb_func
 557              	etharp_output_to_arp_index:
 558              	 
 559              	 
 560 0000 2DE9F043 	 push {r4,r5,r6,r7,r8,r9,lr}
 561 0004 1546     	 mov r5,r2
 562 0006 1C4C     	 ldr r4,.L123
 563 0008 1822     	 movs r2,#24
 564 000a 6A43     	 muls r2,r5,r2
 565 000c 0F46     	 mov r7,r1
 566 000e A118     	 adds r1,r4,r2
 567 0010 01F11006 	 add r6,r1,#16
 568 0014 3379     	 ldrb r3,[r6,#4]
 569 0016 022B     	 cmp r3,#2
 570 0018 85B0     	 sub sp,sp,#20
 571 001a 8046     	 mov r8,r0
 572 001c 00F12D09 	 add r9,r0,#45
 573 0020 1BD1     	 bne .L117
 574 0022 7388     	 ldrh r3,[r6,#2]
 575 0024 B3F58E7F 	 cmp r3,#284
 576 0028 03D9     	 bls .L118
 577 002a 0431     	 adds r1,r1,#4
 578 002c FFF7FEFF 	 bl etharp_request
 579 0030 10E0     	 b .L122
 580              	.L118:
 581 0032 B3F5877F 	 cmp r3,#270
 582 0036 10D3     	 bcc .L117
 583 0038 031D     	 adds r3,r0,#4
 584 003a 0093     	 str r3,[sp]
 585 003c 0F4B     	 ldr r3,.L123+4
 586 003e 0193     	 str r3,[sp,#4]
 587 0040 0431     	 adds r1,r1,#4
 588 0042 0123     	 movs r3,#1
 589 0044 2244     	 add r2,r2,r4
 590 0046 0291     	 str r1,[sp,#8]
 591 0048 0393     	 str r3,[sp,#12]
 592 004a 4946     	 mov r1,r9
 593 004c 0C32     	 adds r2,r2,#12
 594 004e 4B46     	 mov r3,r9
 595 0050 FFF7FEFF 	 bl etharp_raw
 596              	.L122:
 597 0054 08B9     	 cbnz r0,.L117
 598 0056 0323     	 movs r3,#3
 599 0058 3371     	 strb r3,[r6,#4]
 600              	.L117:
 601 005a 1823     	 movs r3,#24
 602 005c 03FB0543 	 mla r3,r3,r5,r4
 603 0060 4FF40062 	 mov r2,#2048
 604 0064 0092     	 str r2,[sp]
 605 0066 4046     	 mov r0,r8
 606 0068 3946     	 mov r1,r7
 607 006a 4A46     	 mov r2,r9
 608 006c 0C33     	 adds r3,r3,#12
 609 006e FFF7FEFF 	 bl ethernet_output
 610 0072 05B0     	 add sp,sp,#20
 611              	 
 612 0074 BDE8F083 	 pop {r4,r5,r6,r7,r8,r9,pc}
 613              	.L124:
 614              	 .align 2
 615              	.L123:
 616 0078 00000000 	 .word .LANCHOR0
 617 007c 00000000 	 .word ethzero
 619              	 .section .text.etharp_query,"ax",%progbits
 620              	 .align 1
 621              	 .global etharp_query
 622              	 .thumb
 623              	 .thumb_func
 625              	etharp_query:
 626              	 
 627              	 
 628 0000 2DE9F341 	 push {r0,r1,r4,r5,r6,r7,r8,lr}
 629 0004 0746     	 mov r7,r0
 630 0006 8846     	 mov r8,r1
 631 0008 0868     	 ldr r0,[r1]
 632 000a 3946     	 mov r1,r7
 633 000c 1446     	 mov r4,r2
 634 000e FFF7FEFF 	 bl ip4_addr_isbroadcast_u32
 635 0012 0028     	 cmp r0,#0
 636 0014 39D1     	 bne .L141
 637 0016 D8F80030 	 ldr r3,[r8]
 638 001a 03F0F002 	 and r2,r3,#240
 639 001e E02A     	 cmp r2,#224
 640 0020 33D0     	 beq .L141
 641 0022 93B3     	 cbz r3,.L141
 642 0024 4046     	 mov r0,r8
 643 0026 0121     	 movs r1,#1
 644 0028 FFF7FEFF 	 bl etharp_find_entry.isra.0
 645 002c 051E     	 subs r5,r0,#0
 646 002e 2EDB     	 blt .L142
 647 0030 2E4E     	 ldr r6,.L155
 648 0032 1823     	 movs r3,#24
 649 0034 03FB0563 	 mla r3,r3,r5,r6
 650 0038 197D     	 ldrb r1,[r3,#20]
 651 003a 61BB     	 cbnz r1,.L127
 652 003c 0121     	 movs r1,#1
 653 003e 1975     	 strb r1,[r3,#20]
 654 0040 9F60     	 str r7,[r3,#8]
 655              	.L136:
 656 0042 3846     	 mov r0,r7
 657 0044 4146     	 mov r1,r8
 658 0046 FFF7FEFF 	 bl etharp_request
 659 004a 0246     	 mov r2,r0
 660 004c 002C     	 cmp r4,#0
 661 004e 49D0     	 beq .L126
 662              	.L137:
 663 0050 1823     	 movs r3,#24
 664 0052 6B43     	 muls r3,r5,r3
 665 0054 F118     	 adds r1,r6,r3
 666 0056 097D     	 ldrb r1,[r1,#20]
 667 0058 0129     	 cmp r1,#1
 668 005a 0ED9     	 bls .L128
 669 005c 244A     	 ldr r2,.L155+4
 670 005e 1570     	 strb r5,[r2]
 671 0060 224A     	 ldr r2,.L155
 672 0062 1344     	 add r3,r3,r2
 673 0064 4FF40062 	 mov r2,#2048
 674 0068 0092     	 str r2,[sp]
 675 006a 3846     	 mov r0,r7
 676 006c 2146     	 mov r1,r4
 677 006e 07F12D02 	 add r2,r7,#45
 678 0072 0C33     	 adds r3,r3,#12
 679 0074 FFF7FEFF 	 bl ethernet_output
 680 0078 34E0     	 b .L126
 681              	.L128:
 682 007a 0AD1     	 bne .L144
 683 007c 2346     	 mov r3,r4
 684              	.L129:
 685 007e 73B1     	 cbz r3,.L154
 686 0080 1A7B     	 ldrb r2,[r3,#12]
 687 0082 012A     	 cmp r2,#1
 688 0084 1CD1     	 bne .L130
 689 0086 1B68     	 ldr r3,[r3]
 690 0088 F9E7     	 b .L129
 691              	.L141:
 692 008a F020     	 movs r0,#240
 693 008c 2AE0     	 b .L126
 694              	.L142:
 695 008e 2846     	 mov r0,r5
 696 0090 28E0     	 b .L126
 697              	.L144:
 698 0092 1046     	 mov r0,r2
 699 0094 26E0     	 b .L126
 700              	.L127:
 701 0096 002C     	 cmp r4,#0
 702 0098 D3D0     	 beq .L136
 703 009a FF22     	 movs r2,#255
 704 009c D8E7     	 b .L137
 705              	.L154:
 706 009e 2046     	 mov r0,r4
 707 00a0 FFF7FEFF 	 bl pbuf_ref
 708 00a4 ECB1     	 cbz r4,.L134
 709              	.L133:
 710 00a6 1823     	 movs r3,#24
 711 00a8 03FB05F2 	 mul r2,r3,r5
 712 00ac 1F46     	 mov r7,r3
 713 00ae B058     	 ldr r0,[r6,r2]
 714 00b0 08B1     	 cbz r0,.L135
 715 00b2 FFF7FEFF 	 bl pbuf_free
 716              	.L135:
 717 00b6 07FB05F0 	 mul r0,r7,r5
 718 00ba 3450     	 str r4,[r6,r0]
 719 00bc 0020     	 movs r0,#0
 720 00be 11E0     	 b .L126
 721              	.L130:
 722 00c0 0220     	 movs r0,#2
 723 00c2 1989     	 ldrh r1,[r3,#8]
 724 00c4 0022     	 movs r2,#0
 725 00c6 FFF7FEFF 	 bl pbuf_alloc
 726 00ca 0746     	 mov r7,r0
 727 00cc 48B1     	 cbz r0,.L134
 728 00ce 2146     	 mov r1,r4
 729 00d0 FFF7FEFF 	 bl pbuf_copy
 730 00d4 18B1     	 cbz r0,.L145
 731 00d6 3846     	 mov r0,r7
 732 00d8 FFF7FEFF 	 bl pbuf_free
 733 00dc 01E0     	 b .L134
 734              	.L145:
 735 00de 3C46     	 mov r4,r7
 736 00e0 E1E7     	 b .L133
 737              	.L134:
 738 00e2 FF20     	 movs r0,#255
 739              	.L126:
 740 00e4 40B2     	 sxtb r0,r0
 741 00e6 02B0     	 add sp,sp,#8
 742              	 
 743 00e8 BDE8F081 	 pop {r4,r5,r6,r7,r8,pc}
 744              	.L156:
 745              	 .align 2
 746              	.L155:
 747 00ec 00000000 	 .word .LANCHOR0
 748 00f0 00000000 	 .word .LANCHOR1
 750              	 .section .text.etharp_output,"ax",%progbits
 751              	 .align 1
 752              	 .global etharp_output
 753              	 .thumb
 754              	 .thumb_func
 756              	etharp_output:
 757              	 
 758              	 
 759 0000 F0B5     	 push {r4,r5,r6,r7,lr}
 760 0002 0446     	 mov r4,r0
 761 0004 85B0     	 sub sp,sp,#20
 762 0006 0E46     	 mov r6,r1
 763 0008 1068     	 ldr r0,[r2]
 764 000a 2146     	 mov r1,r4
 765 000c 1546     	 mov r5,r2
 766 000e FFF7FEFF 	 bl ip4_addr_isbroadcast_u32
 767 0012 0028     	 cmp r0,#0
 768 0014 53D1     	 bne .L166
 769 0016 2B68     	 ldr r3,[r5]
 770 0018 03F0F002 	 and r2,r3,#240
 771 001c E02A     	 cmp r2,#224
 772 001e 14D1     	 bne .L159
 773 0020 0123     	 movs r3,#1
 774 0022 8DF80830 	 strb r3,[sp,#8]
 775 0026 5E23     	 movs r3,#94
 776 0028 8DF80A30 	 strb r3,[sp,#10]
 777 002c 6B78     	 ldrb r3,[r5,#1]
 778 002e 8DF80900 	 strb r0,[sp,#9]
 779 0032 03F07F03 	 and r3,r3,#127
 780 0036 8DF80B30 	 strb r3,[sp,#11]
 781 003a AB78     	 ldrb r3,[r5,#2]
 782 003c 8DF80C30 	 strb r3,[sp,#12]
 783 0040 EB78     	 ldrb r3,[r5,#3]
 784 0042 8DF80D30 	 strb r3,[sp,#13]
 785 0046 02AB     	 add r3,sp,#8
 786 0048 3AE0     	 b .L158
 787              	.L159:
 788 004a 6268     	 ldr r2,[r4,#4]
 789 004c A168     	 ldr r1,[r4,#8]
 790 004e 5A40     	 eors r2,r2,r3
 791 0050 0A42     	 tst r2,r1
 792 0052 09D0     	 beq .L160
 793 0054 9BB2     	 uxth r3,r3
 794 0056 4FF6A962 	 movw r2,#65193
 795 005a 9342     	 cmp r3,r2
 796 005c 04D0     	 beq .L160
 797 005e E368     	 ldr r3,[r4,#12]
 798 0060 002B     	 cmp r3,#0
 799 0062 37D0     	 beq .L167
 800 0064 04F10C05 	 add r5,r4,#12
 801              	.L160:
 802 0068 1C49     	 ldr r1,.L173
 803 006a 1D48     	 ldr r0,.L173+4
 804 006c 0A78     	 ldrb r2,[r1]
 805 006e 1823     	 movs r3,#24
 806 0070 03FB0203 	 mla r3,r3,r2,r0
 807 0074 8E46     	 mov lr,r1
 808 0076 187D     	 ldrb r0,[r3,#20]
 809 0078 0128     	 cmp r0,#1
 810 007a 03D9     	 bls .L162
 811 007c 2968     	 ldr r1,[r5]
 812 007e 5B68     	 ldr r3,[r3,#4]
 813 0080 9942     	 cmp r1,r3
 814 0082 0CD0     	 beq .L172
 815              	.L162:
 816 0084 1649     	 ldr r1,.L173+4
 817 0086 0023     	 movs r3,#0
 818              	.L164:
 819 0088 087D     	 ldrb r0,[r1,#20]
 820 008a 0128     	 cmp r0,#1
 821 008c DAB2     	 uxtb r2,r3
 822 008e 0BD9     	 bls .L165
 823 0090 2F68     	 ldr r7,[r5]
 824 0092 4868     	 ldr r0,[r1,#4]
 825 0094 8742     	 cmp r7,r0
 826 0096 07D1     	 bne .L165
 827 0098 D2B2     	 uxtb r2,r2
 828 009a 8EF80020 	 strb r2,[lr]
 829              	.L172:
 830 009e 2046     	 mov r0,r4
 831 00a0 3146     	 mov r1,r6
 832 00a2 FFF7FEFF 	 bl etharp_output_to_arp_index
 833 00a6 16E0     	 b .L161
 834              	.L165:
 835 00a8 0133     	 adds r3,r3,#1
 836 00aa 0A2B     	 cmp r3,#10
 837 00ac 01F11801 	 add r1,r1,#24
 838 00b0 EAD1     	 bne .L164
 839 00b2 2046     	 mov r0,r4
 840 00b4 2946     	 mov r1,r5
 841 00b6 3246     	 mov r2,r6
 842 00b8 FFF7FEFF 	 bl etharp_query
 843 00bc 0BE0     	 b .L161
 844              	.L166:
 845 00be 094B     	 ldr r3,.L173+8
 846              	.L158:
 847 00c0 4FF40062 	 mov r2,#2048
 848 00c4 0092     	 str r2,[sp]
 849 00c6 2046     	 mov r0,r4
 850 00c8 3146     	 mov r1,r6
 851 00ca 04F12D02 	 add r2,r4,#45
 852 00ce FFF7FEFF 	 bl ethernet_output
 853 00d2 00E0     	 b .L161
 854              	.L167:
 855 00d4 FC20     	 movs r0,#252
 856              	.L161:
 857 00d6 40B2     	 sxtb r0,r0
 858 00d8 05B0     	 add sp,sp,#20
 859              	 
 860 00da F0BD     	 pop {r4,r5,r6,r7,pc}
 861              	.L174:
 862              	 .align 2
 863              	.L173:
 864 00dc 00000000 	 .word .LANCHOR1
 865 00e0 00000000 	 .word .LANCHOR0
 866 00e4 00000000 	 .word ethbroadcast
 868              	 .section .bss.etharp_cached_entry,"aw",%nobits
 869              	 .set .LANCHOR1,.+0
 872              	etharp_cached_entry:
 873 0000 00       	 .space 1
 874              	 .section .bss.arp_table,"aw",%nobits
 875              	 .align 2
 876              	 .set .LANCHOR0,.+0
 879              	arp_table:
 880 0000 00000000 	 .space 240
 880      00000000 
 880      00000000 
 880      00000000 
 880      00000000 
 881              	 .ident "GCC: (GNU Tools for ARM Embedded Processors) 4.9.3 20141119 (release) [ARM/embedded-4_9-branch revision 218278]"
DEFINED SYMBOLS
                            *ABS*:00000000 etharp.c
    {standard input}:17     .text.etharp_free_entry:00000000 $t
    {standard input}:21     .text.etharp_free_entry:00000000 etharp_free_entry
    {standard input}:43     .text.etharp_free_entry:00000024 $d
    {standard input}:46     .text.etharp_raw:00000000 $t
    {standard input}:50     .text.etharp_raw:00000000 etharp_raw
    {standard input}:114    .text.etharp_find_entry.isra.0:00000000 $t
    {standard input}:118    .text.etharp_find_entry.isra.0:00000000 etharp_find_entry.isra.0
    {standard input}:234    .text.etharp_find_entry.isra.0:000000d8 $d
    {standard input}:238    .text.etharp_cleanup_netif:00000000 $t
    {standard input}:243    .text.etharp_cleanup_netif:00000000 etharp_cleanup_netif
    {standard input}:267    .text.etharp_cleanup_netif:00000024 $d
    {standard input}:270    .text.etharp_find_addr:00000000 $t
    {standard input}:275    .text.etharp_find_addr:00000000 etharp_find_addr
    {standard input}:307    .text.etharp_find_addr:00000034 $d
    {standard input}:310    .text.etharp_get_entry:00000000 $t
    {standard input}:315    .text.etharp_get_entry:00000000 etharp_get_entry
    {standard input}:343    .text.etharp_get_entry:0000002c $d
    {standard input}:346    .text.etharp_input:00000000 $t
    {standard input}:351    .text.etharp_input:00000000 etharp_input
    {standard input}:462    .text.etharp_input:000000f8 $d
    {standard input}:465    .text.etharp_request:00000000 $t
    {standard input}:470    .text.etharp_request:00000000 etharp_request
    {standard input}:493    .text.etharp_request:00000028 $d
    {standard input}:497    .text.etharp_tmr:00000000 $t
    {standard input}:502    .text.etharp_tmr:00000000 etharp_tmr
    {standard input}:550    .text.etharp_tmr:00000050 $d
    {standard input}:553    .text.etharp_output_to_arp_index:00000000 $t
    {standard input}:557    .text.etharp_output_to_arp_index:00000000 etharp_output_to_arp_index
    {standard input}:616    .text.etharp_output_to_arp_index:00000078 $d
    {standard input}:620    .text.etharp_query:00000000 $t
    {standard input}:625    .text.etharp_query:00000000 etharp_query
    {standard input}:747    .text.etharp_query:000000ec $d
    {standard input}:751    .text.etharp_output:00000000 $t
    {standard input}:756    .text.etharp_output:00000000 etharp_output
    {standard input}:864    .text.etharp_output:000000dc $d
    {standard input}:872    .bss.etharp_cached_entry:00000000 etharp_cached_entry
    {standard input}:873    .bss.etharp_cached_entry:00000000 $d
    {standard input}:875    .bss.arp_table:00000000 $d
    {standard input}:879    .bss.arp_table:00000000 arp_table

UNDEFINED SYMBOLS
pbuf_free
pbuf_alloc
lwip_htons
ethernet_output
ip4_addr_isbroadcast_u32
dhcp_arp_reply
ethzero
ethbroadcast
pbuf_ref
pbuf_copy
